{"version":3,"file":"js/615.b2f26520.js","mappings":"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","sources":["webpack://demo/./src/views/LoginView.vue","webpack://demo/src/views/LoginView.vue","webpack://demo/./src/views/LoginView.vue?cef6","webpack://demo/./src/views/LoginView.vue?eb81"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"height\":\"100vh\"}},[_c('div',{staticClass:\"loginBox\"},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"10vh\",\"display\":\"flex\",\"flex-direction\":\"row\",\"justify-content\":\"center\"}},[_c('button',{staticClass:\"catelog left\",attrs:{\"id\":\"1\"},on:{\"click\":_vm.changeCatelog}},[_vm._v(\"学生登陆\")]),_c('button',{staticClass:\"catelog right\",attrs:{\"id\":\"2\"},on:{\"click\":_vm.changeCatelog}},[_vm._v(\"教师登录\")])]),_c('div',{staticStyle:{\"margin\":\"30px 0 30px 0\",\"text-align\":\"center\"}},[_c('el-radio',{attrs:{\"label\":\"1\"},on:{\"change\":_vm.changeLoginway},model:{value:(_vm.loginway),callback:function ($$v) {_vm.loginway=$$v},expression:\"loginway\"}},[_vm._v(\"密码登录\")]),_c('el-radio',{attrs:{\"label\":\"2\"},on:{\"change\":_vm.changeLoginway},model:{value:(_vm.loginway),callback:function ($$v) {_vm.loginway=$$v},expression:\"loginway\"}},[_vm._v(\"短信登陆\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loginFormType == 1),expression:\"loginFormType == 1\"}]},[_c('el-form',{ref:\"loginForm\",staticClass:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.pwdRules}},[_c('el-form-item',{staticClass:\"input_box\",attrs:{\"prop\":\"username\",\"label-width\":\"40px\"}},[_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"请输入用户名\",\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{staticClass:\"input_box\",attrs:{\"prop\":\"pwd\",\"label-width\":\"40px\"}},[_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\",\"autocomplete\":\"off\",\"show-password\":\"\"},model:{value:(_vm.loginForm.pwd),callback:function ($$v) {_vm.$set(_vm.loginForm, \"pwd\", $$v)},expression:\"loginForm.pwd\"}})],1)],1),_c('div',{staticClass:\"submit_box\"},[_c('button',{staticClass:\"submit\",on:{\"click\":function($event){return _vm.login('loginForm')}}},[_vm._v(\"登录\")])]),_c('div',{staticClass:\"forgetPassword\"},[_c('router-link',{staticClass:\"router-link register\",attrs:{\"to\":\"/register\"}}),_c('router-link',{staticClass:\"router-link forget\",attrs:{\"to\":\"/forgetPassword\"}},[_vm._v(\"忘记密码\")])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loginFormType == 2),expression:\"loginFormType == 2\"}]},[_c('el-form',{ref:\"loginFormByPhone\",staticClass:\"loginForm\",attrs:{\"model\":_vm.loginFormByPhone,\"rules\":_vm.phoneRules},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{staticClass:\"input_box\",attrs:{\"prop\":\"phone\",\"label-width\":\"40px\"}},[_c('el-input',{staticClass:\"input\",staticStyle:{\"width\":\"180px\"},attrs:{\"placeholder\":\"请输入手机号\",\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.loginFormByPhone.phone),callback:function ($$v) {_vm.$set(_vm.loginFormByPhone, \"phone\", $$v)},expression:\"loginFormByPhone.phone\"}}),_c('button',{staticClass:\"get-code\",attrs:{\"id\":\"get-code\"},on:{\"click\":_vm.getCode}},[_vm._v(\"获取验证码\")])],1),_c('el-form-item',{staticClass:\"input_box\",attrs:{\"prop\":\"code\",\"label-width\":\"40px\"}},[_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"请输入验证码\",\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.loginFormByPhone.code),callback:function ($$v) {_vm.$set(_vm.loginFormByPhone, \"code\", $$v)},expression:\"loginFormByPhone.code\"}})],1)],1),_c('div',{staticClass:\"submit_box\"},[_c('button',{staticClass:\"submit\",on:{\"click\":function($event){return _vm.login('loginFormByPhone')}}},[_vm._v(\"登录\")])]),_c('div',{staticClass:\"forgetPassword\"},[_c('router-link',{staticClass:\"router-link register\",attrs:{\"to\":\"/register\"}}),_c('router-link',{staticClass:\"router-link forget\",attrs:{\"to\":\"/forgetPassword\"}},[_vm._v(\"忘记密码\")])],1)],1)]),_c('el-dialog',{attrs:{\"title\":\"选择角色\",\"visible\":_vm.chooseRoleFormVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.chooseRoleFormVisible=$event}}},[_vm._l((_vm.rolesList.simpleRoleList),function(item,index){return _c('el-radio',{key:item.roleid,staticStyle:{\"display\":\"block\",\"margin-bottom\":\"30px\"},attrs:{\"label\":index},on:{\"change\":_vm.chooseRoles},model:{value:(_vm.roleNum),callback:function ($$v) {_vm.roleNum=$$v},expression:\"roleNum\"}},[_vm._v(\" \"+_vm._s(item.rolename)+\" \")])}),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.close_chooseRoleForm()}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.confirmChooseRole()}}},[_vm._v(\"确 定\")])],1)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div style=\"height: 100vh;\">\r\n\t\t<div class=\"loginBox\">\r\n\t\t\t<div style=\"width: 100%; height: 10vh; display: flex; flex-direction: row; justify-content: center;\">\r\n\t\t\t\t<button class=\"catelog left\" id=\"1\" @click=\"changeCatelog\">学生登陆</button>\r\n\t\t\t\t<button class=\"catelog right\" id=\"2\" @click=\"changeCatelog\">教师登录</button>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"margin: 30px 0 30px 0; text-align: center;\">\r\n\t\t\t\t<el-radio v-model=\"loginway\" label='1' @change=\"changeLoginway\">密码登录</el-radio>\r\n\t\t\t\t<el-radio v-model=\"loginway\" label='2' @change=\"changeLoginway\">短信登陆</el-radio>\r\n\t\t\t</div>\r\n\t\t\t<div v-show=\"loginFormType == 1\">\r\n\t\t\t\t<el-form :model=\"loginForm\" :rules=\"pwdRules\" ref=\"loginForm\" class=\"loginForm\">\r\n\t\t\t\t\t<el-form-item prop=\"username\" class=\"input_box\" label-width=\"40px\">\r\n\t\t\t\t\t\t<el-input placeholder=\"请输入用户名\" type=\"text\" v-model=\"loginForm.username\" autocomplete=\"off\"\r\n\t\t\t\t\t\t\tclass=\"input\">\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item prop=\"pwd\" class=\"input_box\" label-width=\"40px\">\r\n\t\t\t\t\t\t<el-input placeholder=\"请输入密码\" type=\"password\" v-model=\"loginForm.pwd\" autocomplete=\"off\"\r\n\t\t\t\t\t\t\tshow-password class=\"input\">\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t\t<div class=\"submit_box\">\r\n\t\t\t\t\t<button class=\"submit\" @click=\"login('loginForm')\">登录</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"forgetPassword\">\r\n\t\t\t\t\t<router-link to=\"/register\" class=\"router-link register\"></router-link>\r\n\t\t\t\t\t<router-link to=\"/forgetPassword\" class=\"router-link forget\">忘记密码</router-link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div v-show=\"loginFormType == 2\">\r\n\t\t\t\t<el-form :model=\"loginFormByPhone\" :rules=\"phoneRules\" ref=\"loginFormByPhone\" class=\"loginForm\" @submit.native.prevent>\r\n\t\t\t\t\t<el-form-item prop=\"phone\" class=\"input_box\" label-width=\"40px\">\r\n\t\t\t\t\t\t<el-input placeholder=\"请输入手机号\" type=\"text\" v-model=\"loginFormByPhone.phone\" autocomplete=\"off\"\r\n\t\t\t\t\t\t\tclass=\"input\" style=\"width: 180px;\">\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t<button class=\"get-code\" id=\"get-code\" @click=\"getCode\">获取验证码</button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item prop=\"code\" class=\"input_box\" label-width=\"40px\">\r\n\t\t\t\t\t\t<el-input placeholder=\"请输入验证码\" type=\"text\" v-model=\"loginFormByPhone.code\" autocomplete=\"off\"\r\n\t\t\t\t\t\t\tclass=\"input\">\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t\t<div class=\"submit_box\">\r\n\t\t\t\t\t<button class=\"submit\" @click=\"login('loginFormByPhone')\">登录</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"forgetPassword\">\r\n\t\t\t\t\t<router-link to=\"/register\" class=\"router-link register\"></router-link>\r\n\t\t\t\t\t<router-link to=\"/forgetPassword\" class=\"router-link forget\">忘记密码</router-link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<el-dialog title=\"选择角色\" :visible.sync=\"chooseRoleFormVisible\" width=\"500px\">\r\n\t\t\t<el-radio style=\"display: block; margin-bottom: 30px;\" v-model=\"roleNum\" v-for=\"(item, index) in rolesList.simpleRoleList\"\r\n\t\t\t:key=\"item.roleid\" :label=\"index\" @change=\"chooseRoles\">\r\n\t\t\t\t{{ item.rolename }}\r\n\t\t\t</el-radio>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"close_chooseRoleForm()\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"confirmChooseRole()\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n// import axois from 'axios'\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloginForm: {\r\n\t\t\t\tusername: '',\r\n\t\t\t\tpwd: '',\r\n\t\t\t\tcatelog: null,\r\n\t\t\t\tloginway: 1\r\n\t\t\t},\r\n\t\t\tloginFormByPhone: {\r\n\t\t\t\tphone: '',\r\n\t\t\t\tcode: '',\r\n\t\t\t\tcatelog: null,\r\n\t\t\t\tloginway: 1\r\n\t\t\t},\r\n\r\n\t\t\t// 输入框验证规则\r\n\t\t\tpwdRules: {\r\n\t\t\t\tusername: [{ required: true, message: \"请输入用户名\", trigger: \"submit\" },],\r\n\t\t\t\tpwd: [{ required: true, message: \"请输入密码\", trigger: \"submit\" },],\r\n\t\t\t},\r\n\t\t\tphoneRules: {\r\n\t\t\t\tphone: [\r\n\t\t\t\t\t{ required: true, message: \"请输入手机号\", trigger: \"submit\" },\r\n\t\t\t\t\t{ pattern: /\\d{11}$/, message: \"请输入正确的手机号\", trigger: \"blur\" }\r\n\t\t\t\t],\r\n\t\t\t\tcode: [\r\n\t\t\t\t\t{ required: true, message: \"请输入验证码\", trigger: \"submit\" },\r\n\t\t\t\t],\r\n\t\t\t},\r\n\r\n\t\t\tuser: {\t\t// 用户当前选择的角色数据\r\n\t\t\t\tuserid: '',\r\n\t\t\t\tcatelog: '',\r\n\t\t\t\trolename: '',\r\n\t\t\t\troleid: '',\r\n\t\t\t\thomeurl: ''\r\n\t\t\t},\r\n\t\t\trolesList: {\t//存放响应数据\r\n\t\t\t\tuserid: '',\r\n\t\t\t\tcatelog: '',\r\n\t\t\t\tsimpleRoleList: [\r\n\t\t\t\t\t//测试数据\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trolename: \"超级管理员\",\r\n\t\t\t\t\t\troleid: \"1\",\r\n\t\t\t\t\t\thomeurl: \"homes/superadminhome\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trolename: \"教务处\",\r\n\t\t\t\t\t\troleid: \"3\",\r\n\t\t\t\t\t\thomeurl: \"homes/eduhome\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/************************** */\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tuserData: {\r\n\t\t\t\tid: 1,\r\n\t\t\t\tobsId: 1,\r\n\t\t\t\tusername: '超级管理员',\r\n\t\t\t\tloginname: '超级管理员',\r\n\t\t\t\tmobile: '',\r\n\t\t\t\tpwd: '1',\r\n\t\t\t\tstatus: 1,\r\n\t\t\t\tremark: '',\r\n\t\t\t\tcatelog: 2,\r\n\t\t\t\theadImage: ''\r\n\t\t\t},\r\n\r\n\t\t\tloginway: '1',\r\n\t\t\tloginFormType: 1,\r\n\r\n\t\t\tchooseRoleFormVisible: false,\t//选择角色菜单\r\n\t\t\troleNum: '',\r\n\r\n\t\t\tcount: 60,\t\t//发送验证码功能数据\r\n\t\t\tcodeTimer: null,\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tclearLoginForm() {\r\n\t\t\tthis.loginForm.username = this.loginForm.pwd = '';\r\n\t\t\tthis.loginForm.catelog = this.loginForm.loginway = -1;\r\n\t\t},\r\n\t\tlogin(formName) {\r\n\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\t//仅供测试\r\n\t\t\t\t\tif(this.loginForm.username === '超级管理员' && this.loginForm.pwd === '1'){\r\n\t\t\t\t\t\tif(this.loginForm.catelog === '2'){\r\n\t\t\t\t\t\t\tthis.chooseRoleFormVisible = true;\r\n\t\t\t\t\t\t\tthis.roleNum = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(this.loginForm.catelog !== '2'){\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: '无可用角色',\r\n\t\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\t\tduration: 800\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '账号或密码错误',\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tduration: 800\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/*************************************** */\r\n\r\n\t\t\t\t\t// 这里暂时先不启用异步请求\r\n\t\t\t\t\t// axois.post(`http://127.0.0.1:4523/m1/3914762-0-default/login`, this.loginForm).then((result) => {\r\n\t\t\t\t\t// \tif(result.data.code === 400){\r\n\t\t\t\t\t// \t\tthis.$message({\r\n\t\t\t\t\t// \t\t\tmessage: result.data.msg,\r\n\t\t\t\t\t// \t\t\ttype: 'error',\r\n\t\t\t\t\t// \t\t\tduration: 800,\r\n\t\t\t\t\t// \t\t});\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// \telse if(result.data.code === 404){\r\n\t\t\t\t\t// \t\tthis.$message({\r\n\t\t\t\t\t// \t\t\tmessage: result.data.msg,\r\n\t\t\t\t\t// \t\t\ttype: 'error',\r\n\t\t\t\t\t// \t\t\tduration: 800,\r\n\t\t\t\t\t// \t\t});\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// \telse if(result.data.code === 200){\r\n\t\t\t\t\t// \t\tif(result.data.data.rolescount > 0){\r\n\t\t\t\t\t// \t\t\tthis.roleNum = '';\r\n\t\t\t\t\t// \t\t\tthis.rolesList = result.data.data;\r\n\t\t\t\t\t// \t\t\tthis.chooseRoleFormVisible = true;\r\n\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t// \t\telse if(result.data.data.rolescount == 0){\r\n\t\t\t\t\t// \t\t\tthis.user = result.data.data;\r\n\t\t\t\t\t// \t\t\tthis.$router.push('homes/studenthome');\r\n\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// });\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} \r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"error submit!!\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tchangeCatelog(btn){\r\n\t\t\tlet id = btn.target.id;\r\n\t\t\tthis.loginForm.catelog = this.loginFormByPhone.catelog = id;\r\n\t\t\tlet buttons = document.getElementsByClassName('catelog');\r\n\t\t\tfor(let button of buttons){\r\n\t\t\t\tbutton.style.borderBottom = 'none';\r\n\t\t\t}\r\n\t\t\tdocument.getElementById(id).style.borderBottom = '3px solid dodgerblue';\r\n\t\t},\r\n\t\tchangeLoginway(value){\r\n\t\t\tthis.loginForm.loginway = this.loginFormByPhone.loginway = this.loginFormType = value;\r\n\t\t},\r\n\r\n\t\tchooseRoles(value){\r\n\t\t\tthis.user.userid = this.rolesList.userid;\r\n\t\t\tthis.user.catelog = this.rolesList.catelog;\r\n\t\t\tthis.user = this.rolesList.simpleRoleList[value];\r\n\t\t},\r\n\t\tclose_chooseRoleForm(){\r\n\t\t\tthis.chooseRoleFormVisible = false;\r\n\t\t},\r\n\t\tconfirmChooseRole(){\r\n\t\t\tthis.$router.push(this.user.homeurl);\r\n\t\t},\r\n\r\n\t\tprompt() {\r\n\t\t\tthis.$notify({\r\n\t\t\t\ttitle: '目前可用的账号',\r\n\t\t\t\tmessage: '教师登录√<br>密码登录√<br>用户名: 超级管理员<br>密码: 1',\r\n\t\t\t\tposition: 'top-left',\r\n\t\t\t\tduration: 0,\r\n\t\t\t\tshowClose: false,\r\n\t\t\t\tdangerouslyUseHTMLString: true,\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetCode(btn){\r\n\t\t\tthis.$refs['loginFormByPhone'].validateField('phone', (valid) => {\r\n\t\t\t\tvalid = !valid;\t\t//这里因为检验错误时会返回一个字符串，而成功时返回空串，这里把返回字符串的情况作为false处理\r\n\t\t\t\tif(!valid){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tlet id = btn.target.id;\r\n\t\t\t\t\tdocument.getElementById(id).disabled = true; //禁用按钮的点击事件\r\n\t\t\t\t\tdocument.getElementById(id).style.backgroundColor = 'silver';\r\n\t\t\t\t\tdocument.getElementById(id).style.cursor = 'not-allowed';\r\n\t\t\t\t\tdocument.getElementById(id).innerHTML = '重新发送(' + this.count + 's)';\r\n\t\t\t\t\tthis.codeTimer = setInterval(() => {\r\n\t\t\t\t\t\tif(this.count > 0){\r\n\t\t\t\t\t\t\tthis.count --;\r\n\t\t\t\t\t\t\tdocument.getElementById(id).innerHTML = '重新发送(' + this.count + 's)';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tclearInterval(this.codeTimer);\r\n\t\t\t\t\t\t\tthis.count = 60;\r\n\t\t\t\t\t\t\tdocument.getElementById(id).disabled = false;\t// 启用按钮的点击事件\r\n\t\t\t\t\t\t\tdocument.getElementById(id).innerHTML = '获取验证码';\r\n\t\t\t\t\t\t\tdocument.getElementById(id).style.cursor = 'pointer';\r\n\t\t\t\t\t\t\tdocument.getElementById(id).style.backgroundColor = 'dodgerblue';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.prompt();\r\n\t},\r\n\tbeforeDestroy() {\r\n\t\tthis.$notify.closeAll();\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 登录框 */\r\n.loginBox {\r\n\twidth: 350px;\r\n\theight: 420px;\r\n\tborder: 1px solid black;\r\n\tbox-sizing: border-box;\r\n\tbackground: white;\r\n\tborder-radius: 7px;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\tmargin-right: 100px;\r\n    right: 0;\r\n}\r\n\r\n/* 登录表单 */\r\n.loginForm {\r\n\tmargin-top: 0px;\r\n}\r\n\r\n.submit_box {\r\n\ttext-align: center;\r\n}\r\n\r\n/* 登录按钮 */\r\n.submit_box .submit {\r\n\tbackground-color: dodgerblue;\r\n\tcolor: white;\r\n\tborder: none;\r\n\tmargin: 0 auto 0 auto;\r\n\twidth: 150px;\r\n\theight: 35px;\r\n\tborder-radius: 5px;\r\n\tcursor: pointer;\r\n}\r\n\r\nbutton.submit:hover {\r\n\tbackground: rgb(74, 164, 254);\r\n}\r\n\r\n/* 按钮点击变化 */\r\nbutton.submit:active {\r\n\tbackground: rgb(24, 114, 204);\r\n}\r\n\r\n/* 每一个输入框的位置调整 */\r\n.input_box {\r\n\tmargin-bottom: 40px;\r\n}\r\n\r\n/* 设置输入框宽度 */\r\n.input {\r\n\twidth: 270px;\r\n}\r\n\r\n/* 忘记密码 */\r\n.forgetPassword {\r\n\tfont-size: 13px;\r\n\tmargin-top: 30px;\r\n\tpadding: 0 50px 0 50px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.router-link.forget:link,\r\n.router-link.forget:visited {\r\n\tcolor: darkgray;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.router-link.forget:hover {\r\n\tcolor: red;\r\n}\r\n\r\n.router-link.register:link,\r\n.router-link.register:visited {\r\n\tcolor: limegreen;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.router-link.register:hover {\r\n\tcolor: red;\r\n}\r\n\r\n.catelog{\r\n\theight: 100%;\r\n\tline-height: 12vh;\r\n\ttext-align: center;\r\n\tmargin: 0 20px 0 20px;\r\n\tbackground-color: transparent;\r\n\tborder: none;\r\n\tcursor: pointer;\r\n}\r\n\r\n.catelog:hover{\r\n\tcolor: dodgerblue;\r\n}\r\n\r\n.catelog.left{\r\n\twidth: 30%;\r\n\tborder-bottom: 3px solid dodgerblue;\r\n}\r\n\r\n.catelog.right{\r\n\twidth: 30%;\r\n}\r\n\r\n.get-code{\r\n\theight: 41px;\r\n\twidth: 90px;\r\n\tborder: 1px solid gainsboro;\r\n\tbackground-color: dodgerblue;\r\n\tborder-radius: 5%;\r\n\tcolor: white;\r\n\tfont-size: 12px;\r\n\tcursor: pointer;\r\n}\r\n.get-code:hover{\r\n\tbackground-color: rgb(74, 164, 254);\r\n}\r\n.get-code:active{\r\n\tbackground-color: rgb(24, 114, 204);\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=3f5605e4&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\nimport style0 from \"./LoginView.vue?vue&type=style&index=0&id=3f5605e4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f5605e4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","staticClass","attrs","on","changeCatelog","_v","changeLoginway","model","value","loginway","callback","$$v","expression","directives","name","rawName","loginFormType","ref","loginForm","pwdRules","username","$set","pwd","$event","login","loginFormByPhone","phoneRules","nativeOn","preventDefault","phone","getCode","code","chooseRoleFormVisible","_l","rolesList","simpleRoleList","item","index","key","roleid","chooseRoles","roleNum","_s","rolename","slot","close_chooseRoleForm","confirmChooseRole","staticRenderFns","data","catelog","required","message","trigger","pattern","user","userid","homeurl","userData","id","obsId","loginname","mobile","status","remark","headImage","count","codeTimer","methods","clearLoginForm","formName","$refs","validate","valid","$message","type","duration","console","log","btn","target","buttons","document","getElementsByClassName","button","style","borderBottom","getElementById","$router","push","prompt","$notify","title","position","showClose","dangerouslyUseHTMLString","validateField","disabled","backgroundColor","cursor","innerHTML","setInterval","clearInterval","mounted","beforeDestroy","closeAll","component"],"sourceRoot":""}